# Poročilo — 3. domača naloga

Rešitev naloge sestavljajo štiri glavne datoteke `SHA1_quasi_collision.py`, `DSA.py`, `largePrimes.py` in `block.py`. Spodaj opišem kako delujejo te štiri datoteke, na koncu vsakega odstavka pa podam primer veljavnih podatkov, ki jih omenjene datoteke generirajo.

- - -
## 1.del
`SHA1_quasi_collision.py`

V tej datoteki najdemo funkciji `encrypt`, ki s hash funkcijo SHA-1 zakodira dano besedilo, ter funkcijo `find_quasi_collision`, ki poišče kvazi-trke. Tako smo našli kvazi-trka:

```
3566083232 -> '1bd14ce970939d31173886ed13ee7befbc9e4d74'
2314639948 -> '1bd14ce9709c0121b2b58fac281e10afff9b2f95'
```

Vidimo da imamo ujemanje v prvih 11 znakih:
- **1bd14ce9709**39d31173886ed13ee7befbc9e4d74
- **1bd14ce9709**c0121b2b58fac281e10afff9b2f95.


## 2. del
`largePrimes.py`

S to skripto si pomagamo poiskati veliki praštevili q in p, za kateri velja q | p - 1, kjer je q 160-bitno, p pa 1024-bitno praštevilo. Za preverjane praštevilskosti smo uporabili Miller-Rabinov test praštevilskosti. Tako smo dobili

```
q = 1162255769745614450053660730222188860003339885989
p = 142961127436133355490138919563890348660854840976893213352964599239251544301337707783902342383086525288103655452924484721723793662485712143636442571460216320911039914868719609454147758510875050598705302510931641607766956115093646822742924491276245455898739266555549702781082840760937147638759773821954219429767
```
Večina te datoteke je prirejena po skripti, ki jo nanjedmo na [povezavi](https://www.geeksforgeeks.org/how-to-generate-large-prime-numbers-for-rsa-algorithm/) [ogled 10.5.2021 18:30].
 

## 3. del
`DSA.py`

V tej datoteki imamo funkciji za opravljanje z digitalnim podpisom DSA. Funkcija `generate_key`generira javni in privatni ključ. Funkcija `sign`nam preko DSA standarda omogoča podpisati dano besedilo, funkcija `authenticate`pa nam omogoča preverjanje ali je podpis danega besedila res pravilen s pomočjo objavljenega javnega ključa. Tako dobimo na primer javni ključ

```
p = 142961127436133355490138919563890348660854840976893213352964599239251544301337707783902342383086525288103655452924484721723793662485712143636442571460216320911039914868719609454147758510875050598705302510931641607766956115093646822742924491276245455898739266555549702781082840760937147638759773821954219429767
q = 1162255769745614450053660730222188860003339885989
⍺ = 51457833430868155810741980353067136930541567239146403095054433942149184257784422647835406876590665273264284650495724284321088724589228842999117714989599747620029712414094585834383686860739024515804709236495810258379942929693147660171746017826797468032028293543765214675712835086559196655239001126904045053578
β = 40204942380399292553472885028247436379389572182846498060847259036240946149756252430117250819676882646595847884052961044934662771005083261506127210307185282582952441410018273165107939174455352322727968441594315828694808538145414147649710634950477521626434460782765086503055298980970977436127928293296675494378
```
in zasebni ključ

```
a = 1138367750070218568919204606040363059340137573856
```

s katerim lahko podpišemo kvazi-trk `'3566083232 2314639948'` v par

```
(ɣ, δ) = (225566172244877609895172024413828634251990495042, 1139447446177213386930380424924444227091082537397)
```


## 4. del
`block.py`

Še zadnja datoteka nam pomaga ustvariti blok, ki ga lahko objavimo na [spletni učilnici](https://ucilnica.fmf.uni-lj.si/mod/wiki/view.php?pageid=812&group=0). Glede na do sedaj izračunan kvazi-trk, javni ključi in podpis dobimo veljaven (naslednji) blok.

```
3566083232 2314639948 1331457644987023306915329595383178299443741746176
IzakJenko 225566172244877609895172024413828634251990495042 1139447446177213386930380424924444227091082537397
000000028638c06131cc62031ad8a42b523e7019
2286752171
0000000182619a400b2075ee4326695d1242e61e
```

Skupek celotnih podatkov, ki jih vrne ta datoteka (tj. veljaven blok in javni ključ) smo zapisali v datoteko `rezultat.txt`.

---

Domača naloga je dostopna tudi na mojem git-u na povezavi <https://github.com/kazi99/TKKdn>