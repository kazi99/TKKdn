# Poročilo — 3. domača naloga

Rešitev naloge sestavljajo štiri datoteke `SHA1_quasi_collision.py`, `DSA.py`, `largePrimes.py` in `block.py`. Spodaj opišem kako delujejo te štiri datoteke, na koncu vsakega odstavka pa podam primer veljavnih podatkov, ki jih omenjene datoteke generirajo.

- - -

`SHA1_quasi_collision.py`
V tej datoteki najdemo funkciji `encrypt`, ki s hash funkcijo SHA-1 zakodira dano besedilo, ter funkcijo `find_quasi_collision`, ki poišče kvazi-trke. Tako smo našli kvazi-trka:

```
3566083232 -> '1bd14ce970939d31173886ed13ee7befbc9e4d74'
2314639948 -> '1bd14ce9709c0121b2b58fac281e10afff9b2f95'
```

Vidimo da imamo ujemanje v prvih 11 znakih:
- **1bd14ce9709**39d31173886ed13ee7befbc9e4d74
- **1bd14ce9709**c0121b2b58fac281e10afff9b2f95.

- - -

`largePrimes.py`

S to skripto si pomagamo poiskati veliki praštevili q in p, za kateri velja q | p - 1, kjer je q 160-bitno, p pa 1024-bitno praštevilo. Za preverjane praštevilskosti smo uporabili Miller-Rabinov test praštevilskosti. Tako smo dobili

```
q = 1162255769745614450053660730222188860003339885989
p = 142961127436133355490138919563890348660854840976893213352964599239251544301337707783902342383086525288103655452924484721723793662485712143636442571460216320911039914868719609454147758510875050598705302510931641607766956115093646822742924491276245455898739266555549702781082840760937147638759773821954219429767
```
Večina te datoteke je prirejena po skripti, ki jo nanjedmo na [povezavi](https://www.geeksforgeeks.org/how-to-generate-large-prime-numbers-for-rsa-algorithm/) [ogled 10.5.2021 18:30].

- - - 

`DSA.py`

V tej datoteki imamo funkciji za opravljanje z digitalnim podpisom DSA. Funkcija `generate_key`generira javni in privatni ključ. Funkcija `sign`nam preko DSA standarda omogoča podpisati dano besedilo, funkcija `authenticate`pa nam omogoča preverjanje ali je podpis danega besedila res pravilen s pomočjo objavljenega javnega ključa. Tako dobimo na primer javni ključ

```
p = 142961127436133355490138919563890348660854840976893213352964599239251544301337707783902342383086525288103655452924484721723793662485712143636442571460216320911039914868719609454147758510875050598705302510931641607766956115093646822742924491276245455898739266555549702781082840760937147638759773821954219429767
q = 1162255769745614450053660730222188860003339885989
⍺ = 132112779898138875593487334522163666960895504035789313301334739577108402063410996963834438687193823725658339205765289423250343053351689727648137669617044660509149690137875456744564323084476737188827755066454211790478871547616587400069579809747039872578850400684143918232595335455994924670227303144698180119859
β = 116766694656581966975744058970833389005825135281673167418387513155471106302572867649142860812364214453017500594655654109024638105397397570841407619736411382828201477999728678198309638247637344343725290228902455912009191726264576191003030189636079766989871833758147059049801120811395881648529162097511162120440
```
in privatni ključ

```
a = 1013498541409458469845217079224138418523641784828
```

s katerim lahko podpišemo kvazi-trk `'3566083232 2314639948'` v par

```
(ɣ, δ) = (885132376731180039524755523791404102539650001009, 186928447392509313699548708400401167439359544935)
```

- - -

`block.py`

Še zadnja datoteka nam pomaga ustvariti blok, ki ga lahko objavimo na [spletni učilnici](https://ucilnica.fmf.uni-lj.si/mod/wiki/view.php?pageid=812&group=0). Glede na vse do sedaj izračunane kvazi-trke, javne ključe in podpise dobimo veljaven (naslednji) blok.

```
3566083232 2314639948 1331457644987023306915329595383178299443741746176
IzakJenko 1142577795190654443520389728578545917931944978949 233323764178989057792929024652847273416340521174
000000052fe0fe02b97e0b725e1ca95b75ab8f13
2782570156
00000003a3d77fdc0f6e4492275acc8e08740f5e
```

---

Domača naloga je dostopna tudi na mojem git-u na povezavi <https://github.com/kazi99/TKKdn>